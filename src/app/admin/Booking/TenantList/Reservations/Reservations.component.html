<div class="ml-col-1 padding-general-m margin-bottom-m">
    <div class="ap-form ml-col-1 card-style">
        <div class="ml-col-1">
            <h4 class="ap-form__titulo text-left">
                Reservations
                <button 
                    type="button"
                    (click)="goToPage()"
                    class="ap-form__close button-orange">x
                </button> 
            </h4>
        </div>
        <div class="ml-col-1 margin-bottom-x">
            <h4 class="ap-form__titulo ap-form__titulo--no-border">
                Tenant list
            </h4>
            <button 
                class="ap-form__rButton button-green"
                (click)="showModal('edit_end_date')">
                Edit End Date
            </button>
            <button 
                class="ap-form__rButton button-green"
                (click)="showModal('add_service')">
                Add Service
            </button>
            <button 
                class="ap-form__rButton button-blue"
                (click)="showModal('check_in')">
                Check In
            </button>
            <button 
                class="ap-form__rButton button-orange"
                (click)="showModal('check_out')">
                Check Out
            </button>
        </div>
        <div class="ml-col-3 ap-form__sdato ap-form__sdato--no-padding">
            <div class="ml-col-1">
              <span class="text-bold">From: </span>
              {{ current_membership?.customDateS }}
              <span class="text-bold">To: </span>
              {{ current_membership?.customDateE }} 
            </div>
        </div>
        <div class="ml-col-3 ap-form__sdato ap-form__sdato--no-padding">
            <div class="ml-col-1 text-center">
              Nights reserved: 
              <span class="text-bold">
                {{ current_membership?.customDateDif }}     
              </span>
            </div>
        </div>
        <div class="ml-col-3 ap-form__sdato ap-form__sdato--no-padding">
            <div class="ml-col-1 text-right">
                Roomate type: 
                <span class="text-bold">
                    {{ current_membership?.typeRoom }}
                </span>
              </div>
        </div>
        <div class="ml-col-1 margin-tb-min ap-form__sdato ap-form__sdato--no-padding">
            <div class="ml-col-1 font-big">
                Pagos realizados
            </div>
        </div>
        <div class="ml-col-3 ap-form__sdato ap-form__sdato--no-padding">
            <div class="ml-col-1">
                Membership: 
                <span class="text-bold">
                    {{ current_membership?.membresia }}
                </span>
            </div>
        </div>
        <div class="ml-col-3 ap-form__sdato ap-form__sdato--no-padding">
            <div class="ml-col-1 text-center">
                Cost per night: 
                <span class="text-bold">
                    {{ current_membership?.costPerNigth | currency }}
                </span>
            </div>
        </div>
        <div class="ml-col-3 ap-form__sdato ap-form__sdato--no-padding">
            <div class="ml-col-1 text-right">
                <span class="text-bold">
                    {{ current_membership?.price | currency }}
                </span>
            </div>
        </div>
        <div class="ml-col-1 ap-membership">
            <div class="ap-membership__container ap-membership__container--c">
                <p class="ap-membership__text ml-col-1">
                    Type Room
                    <span class="text-bold">
                        {{ current_membership?.roomateType }}
                    </span>
                </p>
                <p class="ap-membership__text ml-col-1">
                    Servicios incluidos
                </p>
                <div class="ml-col-1 ap-membership__services">
                    <figure class="ap-membership__services-service" *ngFor="let service of current_services;">
                        <img class="ap-membership__services-service-img" 
                             src="{{ service.icon }}" />
                        <span class="ap-membership__services-service-name">
                            {{ service.name }}
                        </span>
                    </figure>
                </div>
            </div>
        </div>
        <div class="ml-col-1 margin-bottom-x">
            <div class="ml-col-1 ap-form__sdato ap-form__sdato--no-padding padding-tb-x">
                <div class="ml-col-1 ap-form__sdato--bbottom">
                  Servicios adicionados
                </div>
            </div>
            <table mat-table mat-sort [dataSource]="current_aditionals" class="mat-elevation-z8" style="width: 100%;">
                <ng-container matColumnDef="service">
                    <th mat-header-cell *matHeaderCellDef class="table__header">Service</th>
                    <td mat-cell *matCellDef="let element" class="table__data">{{ element.booked }}</td>
                </ng-container>
                <ng-container matColumnDef="type">
                    <th mat-header-cell *matHeaderCellDef class="table__header">Type</th>
                    <td mat-cell *matCellDef="let element" class="table__data">{{ element.type }}</td>
                </ng-container>
                <ng-container matColumnDef="sdate">
                    <th mat-header-cell *matHeaderCellDef class="table__header">Start Date</th>
                    <td mat-cell *matCellDef="let element" class="table__data">{{ element.fecini }}</td>
                </ng-container>
                <ng-container matColumnDef="edate">
                    <th mat-header-cell *matHeaderCellDef class="table__header">End Date</th>
                    <td mat-cell *matCellDef="let element" class="table__data">{{ element.fecfinish }}</td>
                </ng-container>
                <ng-container matColumnDef="xcost">
                    <th mat-header-cell *matHeaderCellDef class="table__header">Extra Ammount</th>
                    <td mat-cell *matCellDef="let element" class="table__data">{{ element.cost | currency }}</td>
                </ng-container>
                <tr mat-header-row *matHeaderRowDef="table_colums"></tr>
                <tr mat-row *matRowDef="let row; columns: table_colums;"></tr>
            </table>
            <mat-paginator [pageSizeOptions]="[5, 10, 25, 100]"></mat-paginator>
        </div>
        <div class="ml-col-1 margin-bottom-x">
            <div class="ml-col-1 ap-form__sdato ap-form__sdato--no-padding padding-tb-x">
                <div class="ml-col-1 ap-form__sdato--bbottom">
                  Pendiente de pago
                </div>
            </div>
            <table mat-table mat-sort [dataSource]="current_topay" class="mat-elevation-z8" style="width: 100%;">
                <ng-container matColumnDef="service">
                    <th mat-header-cell *matHeaderCellDef class="table__header">Service</th>
                    <td mat-cell *matCellDef="let element" class="table__data">{{ element.booked }}</td>
                </ng-container>
                <ng-container matColumnDef="type">
                    <th mat-header-cell *matHeaderCellDef class="table__header">Type</th>
                    <td mat-cell *matCellDef="let element" class="table__data">{{ element.type }}</td>
                </ng-container>
                <ng-container matColumnDef="sdate">
                    <th mat-header-cell *matHeaderCellDef class="table__header">Start Date</th>
                    <td mat-cell *matCellDef="let element" class="table__data">{{ element.fecini }}</td>
                </ng-container>
                <ng-container matColumnDef="edate">
                    <th mat-header-cell *matHeaderCellDef class="table__header">End Date</th>
                    <td mat-cell *matCellDef="let element" class="table__data">{{ element.fecfinish }}</td>
                </ng-container>
                <ng-container matColumnDef="xcost">
                    <th mat-header-cell *matHeaderCellDef class="table__header">Extra Ammount</th>
                    <td mat-cell *matCellDef="let element" class="table__data">{{ element.cost | currency }}</td>
                </ng-container>
                <tr mat-header-row *matHeaderRowDef="table_colums"></tr>
                <tr mat-row *matRowDef="let row; columns: table_colums;"></tr>
            </table>
            <mat-paginator [pageSizeOptions]="[5, 10, 25, 100]"></mat-paginator>
        </div>
        <div class="ml-col-1">
            Default Method pay
            <span class="ap-membership__payment-label"
                  [ngClass]="{
                      'ap-membership__payment-label-visa' : kind_card == 'visa',
                      'ap-membership__payment-label-mcard' : kind_card == 'mcard',
                      'ap-membership__payment-label-american' : kind_card == 'american'
                  }">
                **** {{ number_card }}
            </span>
            <button 
                class="button-orange float-right ap-membership__payment-button"
                (click)="payPendingItems()">
                Pay
            </button>
        </div>
        <div class="ml-col-1 margin-bottom-x">
            <div class="ml-col-1 ap-form__sdato ap-form__sdato--no-padding padding-tb-x">
                <div class="ml-col-1 ap-form__sdato--bbottom">
                  History
                </div>
            </div>
            <table mat-table mat-sort [dataSource]="current_history" class="mat-elevation-z8" style="width: 100%;">
                <ng-container matColumnDef="build">
                    <th mat-header-cell *matHeaderCellDef class="table__header">Build</th>
                    <td mat-cell *matCellDef="let element" class="table__data">{{ element.build }}</td>
                </ng-container>
                <ng-container matColumnDef="room">
                    <th mat-header-cell *matHeaderCellDef class="table__header">Room</th>
                    <td mat-cell *matCellDef="let element" class="table__data">{{ element.typeRoom }}</td>
                </ng-container>
                <ng-container matColumnDef="membership">
                    <th mat-header-cell *matHeaderCellDef class="table__header">Membership</th>
                    <td mat-cell *matCellDef="let element" class="table__data">{{ element.membresia }}</td>
                </ng-container>
                <ng-container matColumnDef="adate">
                    <th mat-header-cell *matHeaderCellDef class="table__header">Arraival<br />Date</th>
                    <td mat-cell *matCellDef="let element" class="table__data">{{ element.dateStart }}</td>
                </ng-container>
                <ng-container matColumnDef="ddate">
                    <th mat-header-cell *matHeaderCellDef class="table__header">Departure<br />Date</th>
                    <td mat-cell *matCellDef="let element" class="table__data">{{ element.dateEnd }}</td>
                </ng-container>
                <ng-container matColumnDef="aout">
                    <th mat-header-cell *matHeaderCellDef class="table__header">Amount<br />outstanding</th>
                    <td mat-cell *matCellDef="let element" class="table__data">{{ element.price | currency }}</td>
                </ng-container>
                <ng-container matColumnDef="button">
                    <th mat-header-cell *matHeaderCellDef class="table__header"></th>
                    <td mat-cell *matCellDef="let element" class="table__data">
                        <button 
                            mat-raised-button color="accent"
                            class="table__data-button">
                            view more
                        </button>
                    </td>
                </ng-container>
                <tr mat-header-row *matHeaderRowDef="table_history_colums"></tr>
                <tr mat-row *matRowDef="let row; columns: table_history_colums;"></tr>
            </table>
            <mat-paginator [pageSizeOptions]="[5, 10, 25, 100]"></mat-paginator>
        </div>
    </div>
</div>



<div class="ml-modal ml-modal--bg-black" *ngIf="show_page_modal">
    <div class="ml-modal__pop" *ngIf="modal_to_show == 'check_in'">
        <p class="ml-modal__pop-titulo">
            Check In
        </p>
        <p class="ml-modal__pop-text">
            Are you sure to Check In?
        </p>
        <div class="ml-modal__pop-buttons">
            <button 
            (click)="showModal()"
            class="ml-modal__pop-buttons-button button-blue">
            Cancel
            </button>
            <button 
            (click)="confirmDeleteElement()"
            class="ml-modal__pop-buttons-button button-orange">
            Delete
            </button>
        </div>
    </div>
    <div class="ml-modal__pop" *ngIf="modal_to_show == 'check_out'">
        <p class="ml-modal__pop-titulo">
            Check Out
        </p>
        <p class="ml-modal__pop-text">
            Are you sure to Check Out?
        </p>
        <div class="ml-modal__pop-buttons">
            <button 
            (click)="showModal()"
            class="ml-modal__pop-buttons-button button-blue">
            Cancel
            </button>
            <button 
            (click)="confirmDeleteElement()"
            class="ml-modal__pop-buttons-button button-orange">
            Delete
            </button>
        </div>
    </div>
</div>